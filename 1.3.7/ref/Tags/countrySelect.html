<html>
    <head>
	    <meta http-equiv="Content-type" content="text/html; charset=utf-8"/>
	    <title>Grails Reference</title>
	    <link rel="stylesheet" href="../../css/ref.css" type="text/css" media="screen" title="Ref" charset="utf-8" />
	    <link rel="icon" href="../../img/favicon.ico" type="image/x-icon"/>
	    <link rel="shortcut icon" href="../../img/favicon.ico" type="image/x-icon"/>
    </head>
    <body class="body">
        <h1>countrySelect</h1><p class="paragraph"/><h2>Purpose</h2><p class="paragraph"/>Helper tag for creating HTML select boxes containing Country names.<p class="paragraph"/><h2>Examples</h2><p class="paragraph"/><div class="code"><pre>// create a select for all countries
<span class="xml&#45;tag">&#60;g:countrySelect name=<span class="xml&#45;quote">"user.country"</span> value=<span class="xml&#45;quote">"$&#123;country&#125;"</span>
          noSelection=<span class="xml&#45;quote">"&#91;'':'&#45;Choose your age&#45;'&#93;"</span>/&#62;</span><p class="paragraph"/>// create select from a list of ISO3166_3 country codes
<span class="xml&#45;tag">&#60;g:countrySelect name=<span class="xml&#45;quote">"user.country"</span>
          from=<span class="xml&#45;quote">"&#91;'gbr', 'usa', 'deu'&#93;"</span>
          value=<span class="xml&#45;quote">"$&#123;user?.country&#125;"</span>/&#62;</span><p class="paragraph"/>// create country select with internationalized labels 
// expected properties in messages.properties:
// countryname.gbr=My United Kingdom
// countryname.usa=Home of the brave
// countryname.deu=Germany
<span class="xml&#45;tag">&#60;g:countrySelect name=<span class="xml&#45;quote">"user.country"</span> from=<span class="xml&#45;quote">"&#91;'gbr', 'usa', 'deu'&#93; valueMessagePrefix="</span>countryname" /&#62;</span></pre></div><p class="paragraph"/>
<h2>Description</h2><p class="paragraph"/>This class renders a select box with one option for every ISO3166_3 country code, or for the list of country codes supplied in "from".<p class="paragraph"/>The 3-letter ISO codes are used in lowercase format.<p class="paragraph"/>Attributes
<ul class="star">
<li><code>from</code> (optional) - The list or range to select from</li>
<li><code>value</code> (optional) - The current selected value that evaluates equals() to true for one of the elements in the from list.</li>
<li><code>default</code> (optional) - The ISO code of the default country to display if "value" is not set</li>
<li><code>noSelection</code> (optional) - A single-entry map detailing the key and value to use for the "no selection made" choice in the select box. If there is no current selection this will be shown as it is first in the list, and if submitted with this selected, the key that you provide will be submitted. Typically this will be blank - but you can also use 'null' in the case that you're passing the ID of an object</li>
<li><code>valueMessagePrefix</code> (optional) - By default the value "option" element will be the internal English name of the country according to the ISO3166_3 standard. Setting this allows the value to be resolved from the I18n messages. The valueMessagePrefix will be suffixed with a dot ('.') and then the country code of the option to resolve the message. If the message could not be resolved, the prefix plus country code is presented.</li>
</ul><p class="paragraph"/><h2>Source</h2><p class="paragraph"/><p><a href="#" onclick="document.getElementById('countrySelect').style.display='inline'">Show Source</a></p><div id="countrySelect" style="display:none;"><div class="code"><pre>def countrySelect = &#123; attrs &#45;&#62;
        <span class="java&#45;keyword">if</span> (!attrs.from) &#123;
            attrs.from = COUNTRY_CODES_BY_NAME_ORDER
        &#125;<p class="paragraph"/>        <span class="java&#45;keyword">if</span> (!attrs&#91;&#39;valueMessagePrefix&#39;&#93;) attrs.optionValue = &#123; ISO3166_3&#91;it&#93; &#125;<p class="paragraph"/>        <span class="java&#45;keyword">if</span> (!attrs.value) &#123;
            attrs.value = attrs.remove(&#39;<span class="java&#45;keyword">default</span>&#39;)
        &#125;
        out &#60;&#60; select(attrs)
    &#125;</pre></div></div><p class="paragraph"/>

    </body>
</html>
